<!doctype html>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="../../../../../static/styles.css?h=95a606d7">
<link rel="stylesheet" href="../../../../../static/pygments.css">
<title>process-template-context | Documentation | Projet de domotique</title>
<body class="default">
  <nav class="navbar navbar-inverse navbar-static-top">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed"
          data-toggle="collapse" data-target="#navbar"
          aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../../../../">DomoLab</a>
      </div>
      <div id="navbar" class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
          
            <li class="active"><a href="../../../../../devkit/">Developpement Kit</a></li>
          
        </ul>
      </div>
    </div>
  </nav>

  <div class="body-wrapper">
    
    <div class="container">
      
  <div class="row">
    <div class="col-sm-3">
      <ul class="tree-nav nocontent">
        <li><a href="../../../../../devkit/">Devkit</a></li>
        
        
          <li><a href="../../../../../devkit/cesquoi/">Domolab c&#39;est quoi</a>
            
        
          <li><a href="../../../../../devkit/installation/">IDE Arduino</a>
            
        
          <li><a href="../../../../../devkit/ftdi232/">FTDI</a>
            
        
          <li><a href="../../../../../devkit/project/">Project</a>
            
        
          <li><a href="../../../../../devkit/content/">Content</a>
            
        
          <li><a href="../../../../../devkit/templates/">Templates</a>
            
        
          <li><a href="../../../../../devkit/guides/">Guides</a>
            
        
          <li><a href="../../../../../devkit/deployment/">Deployment</a>
            
        
          <li><a href="../../../../../devkit/plugins/">Plugins</a>
            
        
          <li><a href="../../../../../devkit/models/">Data Modelling</a>
            
        
          <li><a href="../../../../../devkit/cli/">Command Line</a>
            
        
          <li><a href="../../../../../devkit/api/">API</a>
            
            <ul>
          <li><a href="../../../../../devkit/api/build/">Build System</a>
            
        
          <li><a href="../../../../../devkit/api/databags/">Databags</a>
            
        
          <li><a href="../../../../../devkit/api/db/">Database</a>
            
        
          <li><a href="../../../../../devkit/api/environment/">Environment</a>
            
        
          <li><a href="../../../../../devkit/api/plugins/">Plugins</a>
            
            <ul>
          <li><a href="../../../../../devkit/api/plugins/events/">Events</a>
            
            <ul>
          <li><a href="../../../../../devkit/api/plugins/events/after-build/">after-build</a>
            
        
          <li><a href="../../../../../devkit/api/plugins/events/after-build-all/">after-build-all</a>
            
        
          <li><a href="../../../../../devkit/api/plugins/events/before-build/">before-build</a>
            
        
          <li><a href="../../../../../devkit/api/plugins/events/before-build-all/">before-build-all</a>
            
        
          <li class="active"><a href="../../../../../devkit/api/plugins/events/process-template-context/">process-template-context</a>
            
            <ul></ul>
            
        
          <li><a href="../../../../../devkit/api/plugins/events/server-spawn/">server-spawn</a>
            
        
          <li><a href="../../../../../devkit/api/plugins/events/server-stop/">server-stop</a>
            
        
          <li><a href="../../../../../devkit/api/plugins/events/setup-env/">setup-env</a>
            
        </ul>
            
        
          <li><a href="../../../../../devkit/api/plugins/get-plugin/">get_plugin()</a>
            
        
          <li><a href="../../../../../devkit/api/plugins/plugin/">Plugin</a>
            
        </ul>
            
        
          <li><a href="../../../../../devkit/api/project/">Project</a>
            
        
          <li><a href="../../../../../devkit/api/publisher/">Publisher</a>
            
        
          <li><a href="../../../../../devkit/api/templates/">Template API</a>
            
        
          <li><a href="../../../../../devkit/api/utils/">Utilities</a>
            
        </ul>
            
        
          <li><a href="../../../../../devkit/search/">Search</a>
            
        
      </ul>

      
      <div class="visible-md-block visible-lg-block">
        <h4>Dans cette page</h4>
        <ul class="toc">
        
          <li><a href="#example">Example</a>
        
        </ul>
      </div>
      
    </div>

    <div class="col-sm-9 doc-styling">
      
  
    <h1><i class="glyphicon glyphicon-flash"></i> <code class="obj">process-template-context</code> <span class="sig">(<code>context, template=None</code>)</span></h1>
  


      <ul class=page-meta>
      
      
      
      </ul>

      <p>This event is emitted right before a template is rendered and can be used
to inject values directly into the template context.  The context is always
provided and is a dictionary that can be modified.</p>
<p>What's important to know that this is not the only way to modify the template
context.  Another one is to modify the underlying <a href="../../../environment/jinja-env/" class="ref">Jinja Environment</a> on the environment directly.  The
difference is that the globals from the <code>jinja_env</code> are available in <em>all</em>
templates whereas the modified template context is only available in the
toplevel template.  This becomes apparent when you are dealing with imported
template macros.  A macro will not have access to values you provide here
unless they are explicitly passed to it.</p>
<p>The filename of the template is passed as <code>template</code> but is only available
if the template was indeed loaded from the templates folder.  There are many
more places where templates are rendered in those cases the value will
not be provided.</p>
<h2 id="example">Example</h2><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">on_process_template_context</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="o">**</span><span class="n">extra</span><span class="p">):</span>
    <span class="n">context</span><span class="p">[</span><span class="s1">&#39;my_variable&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;my value&#39;</span>
</pre></div>


      

      

    </div>
  </div>

    </div>
    
  </div>

  
  <div class="bottomsummary">
    <div class="container">
    </div>
  </div>
  

  
  <footer>
    <div class="container">
      <div class="row">
        <div class="col-sm-4 icon-bar">
          <a href="https://github.com/badele/domolab.website" title="DomoLab website"
            ><i class="fa fa-github"></i></a>
          <a href="https://github.com/badele/domolab.website/blob/master/content/devkit/api/plugins/events/process-template-context/contents.lr" title="View source for this page"><i class="fa fa-code"></i></a>
        </div>
        <div class="col-sm-8">
          <a href="../../../../../license/">License</a> â€¢
          Generated with <a href="https://www.getlektor.com/">lektor</a>
        </div>
      </div>
    </div>
  </footer>
  

  <script type=text/javascript src="../../../../../static/app.js?h=e540307b" charset="utf-8"></script>
  <script>
    ((window.gitter = {}).chat = {}).options = {
      room: 'badele/domolab.website',
      activationElement: null
    };
    document.write('<button class="js-gitter-toggle-chat-button">Ouvrir le Chat</button>');
  </script>
  <script async defer id="github-bjs" src="https://buttons.github.io/buttons.js"></script>
  <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
  <script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script>
</body>
